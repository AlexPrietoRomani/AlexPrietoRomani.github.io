---
import { siteData } from '../../data/siteData';

const { hero } = siteData;
---

<nav class="primary-nav">
  <div class="container d-flex align-items-center justify-content-between">
    <a href="#home" class="brand-link">{hero.title}</a>
    
    <button type="button" class="nav-toggle" aria-expanded="false" aria-label="Abrir menú de navegación">
      <span class="nav-toggle-bar"></span>
      <span class="nav-toggle-bar"></span>
      <span class="nav-toggle-bar"></span>
    </button>
    
    <ul class="nav-links">
      <li><a href="#courses" class="nav-link">Cursos</a></li>
      <li><a href="#projects" class="nav-link">Proyectos</a></li>
      <li><a href="#cv" class="nav-link">Descarga mi CV</a></li>
      <li><a href="#contact" class="nav-link">Contáctame</a></li>
    </ul>
  </div>
</nav>

<script>
  const navToggle = document.querySelector('.nav-toggle');
  const navLinks = document.querySelector('.nav-links');

  if (navToggle && navLinks) {
    navToggle.addEventListener('click', () => {
      const isExpanded = navToggle.getAttribute('aria-expanded') === 'true';
      navToggle.setAttribute('aria-expanded', (!isExpanded).toString());
      navLinks.classList.toggle('is-open');
    });

    navLinks.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', () => {
        navLinks.classList.remove('is-open');
        navToggle.setAttribute('aria-expanded', 'false');
      });
    });
  }
</script>

<style>
  .d-flex { display: flex; }
  .align-items-center { align-items: center; }
  .justify-content-between { justify-content: space-between; }
  
  @media (max-width: 992px) {
    .nav-links {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      flex-direction: column;
      background-color: rgba(255, 255, 255, 0.98);
      padding: 2rem;
      gap: 1.5rem;
      transform: translateY(-10px);
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }

    .nav-links.is-open {
      transform: translateY(0);
      opacity: 1;
      visibility: visible;
    }
    
    .nav-toggle {
       display: flex;
    }
  }
</style>
